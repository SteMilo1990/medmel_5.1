<div id="groupPlica">
<center>
    <div class="menuStyleNotePlica">
        <div class="closeButton" style="margin-right: 5px; margin-top:5px;">
            <input type=image src="img/icons/close1.png" class="menuButton" style=" width:10px; "  onclick="containerNoteMenuRemove()" title="Close">
        </div>
        <div class="clear"></div>
        <div class="separator " style=" margin-left:5px; margin-right:5px;">Plica</div>
        <div id="btn1" style="margin-top:10px">
            <button id="btn1_1"class="buttonNote" onclick=groupPlicabtn(1)  >
                <svg height="25px" width="100%" overflow="visible">
                  <g transform="translate(-3 -35)">
                    <line class="stem_top_left" id="s.t.l_3.2.0" x1="16.5" y1="35" x2="16.5" y2="51" style="stroke:black;stroke-width:1 "></line>
                    <g transform="matrix(0.16, 0,   0, 0.16, 0,41)">
                      <path id="note.3.2.0" class="simple_note" d="
                            M100,100 l0,-50
                            c0,5 50,5 50,0
                            l0,50
                            c0,5 -50,5 -50,0"></path>
                    </g>
                    <line class="stem_top_right" id="s.t.r_3.2.0" x1="23.5" y1="35" x2="23.5" y2="51" style="stroke:black;stroke-width:1 "></line>
                  </g>
                </svg>
            </button>
            <button id="btn1_2"class="buttonNote" onclick=groupPlicabtn(2)  >
                <svg height="25px" width="100%" overflow="visible">
                  <g transform="translate(-3 -35)">
                    <line class="stem_top_left" id="s.t.l_3.3.0" x1="16.5" y1="35" x2="16.5" y2="51" style="stroke:black;stroke-width:1 "></line>
                    <g transform="matrix(0.16, 0,   0,
                                         0.16, 0,41)">
                    <path id="note.0.1.0" d="m 100,50 v 50 c 0,5 50,0 50,-40 v -50 c 0,40 -50,40 -50,40"></path></g>
                    <line class="stem_top_left_plica_2_right" x1="23.5" y1="33" x2="23.5" y2="49" style="stroke:black;stroke-width:1 "></line>
                    <g transform="matrix(0.16, 0,   0, 0.16, 0,31)">  </g>
                  </g>
                </svg>
            </button>
            <button id="btn1_3"class="buttonNote" onclick=groupPlicabtn(3) >
                <svg height="25px" width="100%" overflow="visible">
                  <g transform="translate(-3 -35)">
                    <line class="stem_top_left" id="s.t.l_3.3.0" x1="16.5" y1="35" x2="16.5" y2="51" style="stroke:black;stroke-width:1 "></line>
                    <g transform="matrix(0.16, 0,   0,
                                         0.16, 0,41)">
                      <path id="note.0.1.0" d="m 100,50 v 50 c 0,5 50,0 50,-40 v -50 c 0,40 -50,40 -50,40"></path>
                    </g>
                  </g>
                </svg>
            </button>
            <button id="btn1_4"class="buttonNote" onclick=groupPlicabtn(4) >
                <svg height="25px" width="100%" overflow="visible">
                  <g transform="translate(-3 -35)">
                    <g transform="matrix(0.16, 0,   0,
                                         0.16, 0,41)">
                      <path id="note.0.1.0" d="m 100,50 v 50 c 0,5 50,0 50,-40 v -50 c 0,40 -50,40 -50,40"></path>
                    </g>
                  </g>
                </svg>
            </button>
            <button id="btn1_5"class="buttonNote" onclick=groupPlicabtn(5) >
                <svg height="25px" width="100%" overflow="visible">
                  <g transform="translate(-3 -35)">
                    <g transform="matrix(0.16, 0,   0, 0.16, 0,41)">
                      <path id="note.3.2.0" class="simple_note" d="
                            M100,100 l0,-50
                            c0,5 50,5 50,0
                            l0,50
                            c0,5 -50,5 -50,0"></path>
                    </g>
                    <line class="stem_top_right" id="s.t.r_3.2.0" x1="23.5" y1="35" x2="23.5" y2="51" style="stroke:black;stroke-width:1 "></line>
                  </g>
                </svg>
            </button>
        </div>
        <div id="btn2" style="margin-top:10px"> <!------plica disc-------->
            <button id="btn2_1"class="buttonNote" onclick=groupPlicabtn(1) >
                <svg height="25px" width="100%" overflow="visible">
                    <g transform="translate(-3 -40)">
                        <line class="stem_bottom_left" x1="16.5" y1="42" x2="16.5" y2="62" style="stroke:black;stroke-width:1"></line>
                        <g transform="matrix(0.16, 0,   0, 0.16, 0,34)">
                            <path id="note.1.2.0" class="simple_note" d="M100,100 l0,-50 c0,-5 50,-5 50,0 l0,50 c0,-5 -50,-5 -50,0"></path>
                        </g>
                        <line class="stem_bottom_right" x1="23.5" y1="42" x2="23.5" y2="62" style="stroke:black;stroke-width:1  "></line>
                    </g>
                </svg>
            </button>
            <button id="btn2_2"class="buttonNote" onclick=groupPlicabtn(2) >
                <svg height="25px" width="100%" overflow="visible">
                    <g transform="translate(-3 -40)">
                        <line class="stem_bottom_left" x1="16.5" y1="42" x2="16.5" y2="62" style="stroke:black;stroke-width:1"></line>
                        <g transform="matrix(0.16, 0,   0, 0.16, 0,34)">
                          <path id="note.0.1.0" d="
                                          M100,100
                                          l00,-50
                                          c0,-5   50,  0  50,40
                                          l0,50
                                          c0,-40 -50,-40 -50,-40
                                          ">
                                          </path>
                    </g>
                        <line class="stem_of_plica_2_right" x1="23.5" y1="50" x2="23.5" y2="65" style="stroke:black;stroke-width:1 "></line>
                    </g>
                </svg>
            </button>
            <button id="btn2_3"class="buttonNote" onclick=groupPlicabtn(3) >
                <svg height="25px" width="100%" overflow="visible">
                    <g transform="translate(-3 -40)">
                        <line class="stem_bottom_left" x1="16.5" y1="42" x2="16.5" y2="62" style="stroke:black;stroke-width:1"></line>
                        <g transform="matrix(0.16, 0, 0, 0.16, 0,34)">
                            <path id="note.0.1.0" d="
                                          M100,100
                                          l00,-50
                                          c0,-5   50,  0  50,40
                                          l0,50
                                          c0,-40 -50,-40 -50,-40
                                          "></path>
                        </g>
                    </g>
                </svg>
            </button>
            <button id="btn2_4"class="buttonNote" onclick=groupPlicabtn(4) >
                <svg height="25px" width="100%" overflow="visible">
                    <g transform="translate(-3 -40)">
                        <g transform="matrix(0.16, 0, 0, 0.16, 0,34)">
                            <path id="note.0.1.0" d="
                                          M100,100
                                          l00,-50
                                          c0,-5   50,  0  50,40
                                          l0,50
                                          c0,-40 -50,-40 -50,-40
                                          "></path>
                        </g>
                    </g>
                </svg>
            </button>
        </div>
        <button class="" onclick=resetGroup() style="height:30px; margin-top: 20px; border-radius: 5px 5px; " >
            Reset Group
        </button>
    </div>
</center>
</div>

<style>
    .menuStyleNotePlica{
        border-radius: 10px 10px;
        background: #f3f0eb;
        height:170px;
        width: 300px;
        position: absolute;
    }
    @keyframes fading {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }
    .buttonNote{
        background-color: #fff;
        border-radius: 5px 5px;
        width: 50px;
        height:50px;
    }
    .buttonNote:hover{
        background-color: #f3f3f3;
    }
    /* @media only screen and (max-width: 769px){
        .closeButton{
            display: none;
            float:right;
        }
    } */
</style>
<script>
try{let indexGroup = -1;}catch{indexGroup = -1;}
try{let notesGroup = "";}catch{notesGroup = "";}
try{let groupLine = 0;}catch{groupLine = 0;}
try{let groupPos = 0;}catch{groupPos = 0;}

function setupButtonsPlica(nGroup, strGroup, line, pos){
    indexGroup = nGroup;
    notesGroup = strGroup;
    groupLine = line;
    groupPos = pos;

    let typeOfGroup = -1;
    if(strGroup.length > 2  && strGroup.length < 5 ){
        let a = getNoteValue(strGroup.substring(0,1));
        let b = strGroup.substring(1,2);
        let c = getNoteValue(strGroup.substring(2,3));

        if(a<c && b == '('){ //plica asc
            if((c - a) != 1 ){
                let btn = $('#btn1_1');
                btn.remove();
                btn = $('#btn1_2');
                btn.remove();
            }
            removeButtons(1);
        }
        else if (a>c && b == '('){ //plica disc
            if((a - c) != 1 ){
                let btn = $('#btn2_2');
                btn.remove();
            }
            removeButtons(0);
        }
        else{
            menuPlicaRemove();
        }
    }
    else{
        menuPlicaRemove();
    }
}
function removeButtons(index){
    let id = "btn"+(index+1)+"";
    document.getElementById(id).remove();
}
function menuPlicaRemove(){
    let groupPlica = $('#groupPlica');
    groupPlica.remove();
}
function groupPlicabtn(shapeValue){
    shapeGroupNote[groupLine][groupPos] = shapeValue;
    shapeSingleNote[groupLine][groupPos] = [];
    stemSingleNote[groupLine][groupPos] = [];
    connectGroupNote[groupLine][groupPos] = [];
    containerNoteMenuRemove();
    updateStaves();
}
function resetGroup(){
    shapeGroupNote[groupLine][groupPos] = plica_type;
    shapeSingleNote[groupLine][groupPos] = [];
    stemSingleNote[groupLine][groupPos] = [];
    connectGroupNote[groupLine][groupPos] = [];
    updateStaves();
}
function getNoteValue(n){
    if(n == 'J') return 1;
    if(n == 'A') return 2;
    if(n == 'H') return 3;
    if(n == 'B') return 3;
    if(n == 'C') return 4;
    if(n == 'D') return 5;
    if(n == 'E') return 6;
    if(n == 'F') return 7;
    if(n == 'G') return 8;
    if(n == 'a') return 9;
    if(n == 'h') return 10;
    if(n == 'b') return 10;
    if(n == 'c') return 11;
    if(n == 'd') return 12;
    if(n == 'e') return 13;
    if(n == 'f') return 14;
    if(n == 'g') return 15;
    if(n == 'u') return 16;
    if(n == 'q') return 17;
    if(n == 'p') return 17;
    if(n == 'r') return 18;
}
</script>
