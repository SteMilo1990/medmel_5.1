<?php ini_set('display_errors',0);error_reporting(0);include 'brackets_height.php';include 'notes_height.php';include 'notes_height_old.php';if(isset($i0)){include 'syl-la-bles.php';}$i1=1;function test_input($a2){$a2=trim($a2);$a2=stripslashes($a2);$a2=htmlspecialchars($a2);return $a2;}$q3=$f4=$n5=$i6=$r7=$f8=$y9=$m10=$g11="";$q3=test_input($_POST["notes"]);$f4=test_input($_POST["text_string"]);$n5=test_input($_POST["title"]);$i6=test_input($_POST["id"]);$r7=test_input($_POST["author"]);$f8=test_input($_POST["language"]);$y9=test_input($_POST["ms"]);$m10=test_input($_POST["f_input"]);$g11=test_input($_POST["annotations"]);$k12=test_input($_POST["text_mode"]);$f13=test_input($_POST["callingFrom"]);$g11=preg_replace('/\[link\][^<]+\[\/link\]/i','',$g11);if($_COOKIE['plicaType']==1){$p14=1;}else{$p14=0;}if($_COOKIE['textFont']==0){$z15="Times New Roman";}else{if($_COOKIE['textFont']=="1"){$z15="Times New Roman";}elseif($_COOKIE['textFont']=="2"){$z15="EB Garamond";}elseif($_COOKIE['textFont']=="3"){$z15="Courier";}elseif($_COOKIE['textFont']=="4"){$z15="Roboto";}}if($_COOKIE['fontSize']==0){$s16=18;}else{$s16=$_COOKIE['fontSize'];}$y17=preg_replace('/\n/','|',$q3);$y17=str_replace(" |","|",$y17);$y17=str_replace("| ","|",$y17);$y17=preg_replace('/\n/','',$y17);$y17=str_replace('+a','u',$y17);$y17=str_replace('+b','p',$y17);$y17=str_replace('+h','q',$y17);$y17=str_replace('+c','r',$y17);$y17=str_replace("*G","J",$y17);$y17=str_replace("%}","h}",$y17);$y18=str_replace(array("(",")","%","+","#","/","-","[","]","b} ","h} "),"",$y17);$w19=str_replace(array("(",")","%","+","#","/","-","[","]","'"),"",$y17);$l20=str_replace(array("(",")","#","+","_","%","/","-","]","b} ","b}","h} ","h}","'"),"",$y17);$w21=str_replace(array("(",")","#","+","_","%","/","-","[","b} ","b}","h} ","h}","'"),"",$y17);$t22=str_replace(array("(",")","#","+","_","%","-","[","]","b} ","b}","%} ","h}","'"),"",$y17);$o23=str_replace(array(")","%","#","+","_","/","[","]","b} ","b}","h} ","h}","'"),"",$y17);$k24=str_replace(array("(",")","#","+","_","/","[","]","b} ","b}","h} ","h}","'"),"",$y17);$y25=str_replace(array("(",")","%","+","_","/","[","]","b} ","b}","h} ","h}","'"),"",$y17);$p26=str_replace(array("(",")","%","+","#","/","[","]","'","b} ","b}","h} ","h}"),"",$y17);$i27=str_replace(array("%","(",")","#","+","_","/","[","]","b} ","b}","h} ","h}","'"),"",$y17);$n28=str_replace(array("'?","'-","'b}","'J","'A","'H","'B","'C","'D","'E","'F","'G","'a","'b","'h","'c","'d","'e","'f","'g","'u","'p","'q","'r"),"1",$y18);$n28=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H|-]","0",$n28);$d29[]=explode("|",$n28);foreach($d29 as $n30){foreach($n30 as $h31){$p32[]=explode(" ",$h31);}}$z33=str_replace(array("b} J","b} A","b} H","b} B","b} C","b} D","b} E","b} F","b} G","b} a","b} b","b} h","b} c","b} d","b} e","b} f","b} g","b} u","b} p","b} q","b} r"),"1",$w19);$z33=str_replace(array("h} J","h} A","h} H","h} B","h} C","h} D","h} E","h} F","h} G","h} a","h} b","h} h","h} c","h} d","h} e","h} f","h} g","h} u","h} p","h} q","h} r"),"2",$z33);$z33=str_replace(array("b}J","b}A","b}H","b}B","b}C","b}D","b}E","b}F","b}G","b}a","b}b","b}h","b}c","b}d","b}e","b}f","b}g","b}u","b}p","b}q","b}r"),"1",$z33);$z33=str_replace(array("h}J","h}A","h}H","h}B","h}C","h}D","h}E","h}F","h}G","h}a","h}b","h}h","h}c","h}d","h}e","h}f","h}g","h}u","h}p","h}q","h}r"),"2",$z33);$z33=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H|-]","0",$z33);$y34[]=explode("|",$z33);foreach($y34 as $q35){foreach($q35 as $n36){$l37[]=explode(" ",$n36);}}$o38=str_replace(array('(a','(b','(c','(d','(e','(f','(g','(h','(J','(A','(B','(C','(D','(E','(F','(G','(H','(u','(p','(q','(r'),"1",$o23);$o38=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H|-]","0",$o38);$h39[]=explode("|",$o38);foreach($h39 as $s40){foreach($s40 as $w41){$v42[]=explode(" ",$w41);}}$h43=str_replace(array('%a','%b','%c','%d','%e','%f','%g','%h','%J','%A','%B','%C','%D','%E','%F','%G','%H','%u','%p','%q','%r'),"1",$k24);$h43=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H|-]","0",$h43);$t44[]=explode("|",$h43);foreach($t44 as $g45){foreach($g45 as $v46){$g47[]=explode(" ",$v46);}}$c48=str_replace(array('#a','#b','#c','#d','#e','#f','#g','#h','#J','#A','#B','#C','#D','#E','#F','#G','#H','#u','#p',"#q",'#r'),"1",$y25);$c48=preg_replace("[a|b|c|d|e|f|g|u|p|q|r|h|J|A|B|C|D|E|F|G|H|-]","0",$c48);$u49[]=explode("|",$c48);foreach($u49 as $s50){foreach($s50 as $y51){$i52[]=explode(" ",$y51);}}$p53=str_replace(array('_a','_b','_c','_d','_e','_f','_g','_h','_J','_A','_B','_C','_D','_E','_F','_G','_H','_u','_p',"_q","_r"),"1",$p26);$p53=preg_replace("[a|b|c|d|e|f|g|h|J|A|B|C|D|E|F|G|H|u|p|q|r|-]","0",$p53);$t54[]=explode("|",$p53);foreach($t54 as $i55){foreach($i55 as $v56){$q57[]=explode(" ",$v56);}}$a58[]=explode("|",$t22);foreach($a58 as $i59){foreach($i59 as $s60){$z61[]=explode(" ",$s60);}}$h62=explode("|",$i27);$b63=count($h62);$f4=str_replace("- ","-",$f4);$r64=str_replace("-","- ",$f4);$r64=str_replace("  "," ",$r64);$h65=preg_replace("[\n\s*\n]","\$",$r64);$h65=str_replace("\n","|",$h65);$l66=explode("\$",$h65);$p67=explode("\n",$r64);foreach($l66 as $u68){$m69[]=explode('|',$u68);}for($i70=0;$i70<count($l66);$i70++){for($w71=0;$w71<count($m69[$i70]);$w71++){$m69[$i70][$w71]=trim($m69[$i70][$w71]);}}$f72=[];for($i70=0;$i70<count($l66);$i70++){array_push($f72,[]);for($w71=0;$w71<count($m69[$i70]);$w71++){$f72[$i70][$w71]=explode(" ",$m69[$i70][$w71]);}}if(strpos($q3,'*G')!==false){$r73=146;}else if(strpos($q3,'A')!==false){$r73=139;}else if(strpos($q3,'B')!==false){$r73=133;}else if(strpos($q3,'H')!==false){$r73=133;}else{$r73=129;}$n74=str_replace(array('[a','[b','[c','[d','[e','[f','[g','[h','[J','[A','[B','[C','[D','[E','[F','[G','[H','[u','[p','[q','[r'),"1",$l20);$n74=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H]","0",$n74);$r75[]=explode("|",$n74);foreach($r75 as $f76){foreach($f76 as $y77){$o78[]=explode(" ",$y77);}}$k79=str_replace(array('a]','b]','c]','d]','e]','f]','g]','h]','J]','A]','B]','C]','D]','E]','F]','G]','H]','u]','p]','q]','r]'),"1",$w21);$k79=preg_replace("[a|b|c|d|e|f|g|h|u|p|q|r|J|A|B|C|D|E|F|G|H]","0",$k79);$l80[]=explode("|",$k79);foreach($l80 as $i81){foreach($i81 as $h82){$m83[]=explode(" ",$h82);}}if($n5){echo "<br/><div id=\"title\" style=\"font-family:".$z15."\">";echo $n5;echo "</div>";}if($r7){echo "<div id=\"author\" style=\"font-family:".$z15."\">";echo $r7;echo "</div>";}if($i6){echo "<div id=\"id\" style=\"font-family:".$z15."\">";echo $i6;echo "</div>";}if($y9){echo "<div id=\"ms\" style=\"font-family:".$z15."\">Ms: ";echo $y9;if($m10){echo " ".$m10;}echo "</div>";}echo "<br/>";for($w84=0;$w84<$b63;$w84++){$o85=rtrim($h62[$w84]," \|");$o85=trim($o85,"\|");$o85=ltrim($o85," ");$r86=explode(' ',$o85);$z87[]=count($r86);$e88=max($z87);$f89[]=explode(' ',$o85);$e90=rtrim($p67[$w84]," \|");$e90=trim($e90,"\|");$e90=ltrim($e90," ");$i91[]=explode(' ',$e90);}for($p92=0;$p92<$e88;$p92++){for($k93=0;$k93<$b63;$k93++){$k94[]=strlen($f89[$k93][$p92]);$p95[]=strlen($i91[$k93][$p92]);}}$h96=array_chunk($k94,$b63);$j97=array_chunk($p95,$b63);for($c98=0;$c98<$e88;$c98++){$d99[]=max($h96[$c98]);$v100[]=max($j97[$c98]);$f101=max($j97[$c98])*($s16/1.5)-max($h96[$c98])*6;if($f101>50){$w102[]=$f101-45;}else{$w102[]=0;}}$k103=[];$e104=[];$e104[0]=0;$l105=str_replace(" ","",$h62);for($h106=0;$h106<$b63;$h106++){$e107=[];$t108=0;$f109=array_key_exists($h106,$e104);if($f109!=1){$w110=$w110+1;$e104[$h106]=$w110;}for($t111=$h106+1;$t111<$b63;$t111++){if(!array_key_exists($t111,$e104)){$v112=0;$u113=count($f89[$h106]);$e114=count($f89[$t111]);if($u113>$e114){$w115=$u113;}else{$w115=$e114;}if(substr($l105[$h106],-1)==substr($l105[$t111],-1)){$a116=1;}else{$a116=0;};for($d117=0;$d117<$w115;$d117++){if($f89[$h106][$d117]==$f89[$t111][$d117]){$o118=1;}else if(($f89[$h106][$d117]==$f89[$t111][$d117+1])&&($f89[$h106][$d117+1]==$f89[$t111][$d117+2])){$o118=0;}else{$o118=0;}$v112=$v112+$o118;}if($a116==1){$j119=0.1;}else{$j119=0;}$u120=($v112+$j119)/$w115;if($u120>0.8 and $a116==1){$k103[$t111]=$k103[$h106];$e104[$t111]=$e104[$h106];}else if(($u120>0.8 and $a116==0)or($u120>0.65 and $w115<4)or($u120>0.45 and $w115>=4)){$e104[$t111]=$e104[$h106];$k103[$t111]=$k103[$h106]+$t108+1;for($i121=$t111;$i121<$b63;$i121++){if($l105[$t111]==$l105[$i121]){$e104[$i121]=$e104[$t111];$k103[$i121]=$k103[$t111];}}$t108=$t108+1;array_push($e107,$t111);}}}}$k122=array('A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X ','Y','Z');$l123=array('α','β','γ','δ','ε','ζ','η','θ','ι','κ','λ','μ','ν','ξ','ο','π','ρ','σ','τ','υ','φ','χ','ψ','ω');if($_COOKIE['alpha']==0){$n124=$k122;}else{$n124=$l123;}for($h125=0;$h125<$b63;$h125++){$c126=$e104[$h125];if($c126<count($n124)){$f127=$n124[$c126];}else{$m128=floor($c126/count($n124));$y129=$c126%count($n124);$m128=$n124[$m128-1];$y129=$n124[$y129-1];$f127=$m128.$y129;}$g130="";for($g131=0;$g131<$k103[$h125];$g131++){$g130=$g130."'";}$f132[]=$f127.$g130;}for($h125=0;$h125<$b63;$h125++){$c126=$e104[$h125];if($c126<count($k122)){$f127=$k122[$c126];}else{$m128=floor($c126/count($k122));$y129=$c126%count($k122);$m128=$k122[$m128-1];$y129=$k122[$y129-1];$f127=$m128.$y129;}$g130="";for($g131=0;$g131<$k103[$h125];$g131++){$g130=$g130."'";}$v133[]=$f127.$g130." ";}$g134=implode($v133);$o135=array();$x136=true;echo "<div id=\"staves\">";for($k137=0;$k137<count($l66);$k137++){if($k137==0){if($k12==2 and $x136==true){echo "<p style=\"font-family:".$z15.";\">I</p>";}}elseif($k12==2 and $k137>0){echo "<br/><br/><br/>";if($x136==true){echo "<p style=\"font-family:".$z15.";\">".numberToRomanRepresentation(($k137+1))."</p>";}}else{break;}for($y138=0;$y138<$b63;$y138++){$v139++;$v140=count($f72[$k137]);if($b63-$v140>0){$o141=true;}else{$o141=false;}$n142=$b63-$v140;if($k12==2 and $k137>0){$v140=count($f72[$k137]);$n142=$b63-$v140;if($b63-$v140>0){$o141=true;}else{$o141=false;}if($o141==true){$y138=$n142+$z143;$z143=$z143+1;}}else{$n142=0;}$l144=0;if($y138>0){echo "<br/>";}$g145=rtrim($h62[$y138]," \|");$g145=trim($g145,"\|");$g145=ltrim($g145," ");$d146=explode(' ',$g145);$y147=count($d146);$j148=160;$l149=10;$l150=40+$s16*0.2;if($k12==1)$j148=$j148+((count($f72)-1)*$l150);if(count($h62)/100>=1){$g151=12;}else{$g151=0;}echo "<div style=\"width: ".(70+$g151+($s16))."px; display:inline-block;\" class=\"g_key\" id=\"g_key_".$y138."\"  overflow=\"visible\">\n";echo "<svg height=\"".$j148."px\" width=\"100%\" overflow=\"visible\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";echo "  <line x1=\"0\" y1=\"31.2\" x2=\"100%\" y2=\"31.2\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"45.5\" x2=\"100%\" y2=\"45.5\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"59.8\" x2=\"100%\" y2=\"59.8\" style=\"stroke:black;stroke-width:1\" />\n";echo "  \n";echo "  <line x1=\"0\" y1=\"74.1\" x2=\"100%\" y2=\"74.1\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"88.4\" x2=\"100%\" y2=\"88.4\" style=\"stroke:black;stroke-width:1\" />\n";echo "      <path id=\"G-clef\" stroke=\"#000\" d=\"m51.688 5.25c-5.427-0.1409-11.774 12.818-11.563 24.375 0.049 3.52 1.16 10.659 2.781 19.625-10.223 10.581-22.094 21.44-22.094 35.688-0.163 13.057 7.817 29.692 26.75 29.532 2.906-0.02 5.521-0.38 7.844-1 1.731 9.49 2.882 16.98 2.875 20.44 0.061 13.64-17.86 14.99-18.719 7.15 3.777-0.13 6.782-3.13 6.782-6.84 0-3.79-3.138-6.88-7.032-6.88-2.141 0-4.049 0.94-5.343 2.41-0.03 0.03-0.065 0.06-0.094 0.09-0.292 0.31-0.538 0.68-0.781 1.1-0.798 1.35-1.316 3.29-1.344 6.06 0 11.42 28.875 18.77 28.875-3.75 0.045-3.03-1.258-10.72-3.156-20.41 20.603-7.45 15.427-38.04-3.531-38.184-1.47 0.015-2.887 0.186-4.25 0.532-1.08-5.197-2.122-10.241-3.032-14.876 7.199-7.071 13.485-16.224 13.344-33.093 0.022-12.114-4.014-21.828-8.312-21.969zm1.281 11.719c2.456-0.237 4.406 2.043 4.406 7.062 0.199 8.62-5.84 16.148-13.031 23.719-0.688-4.147-1.139-7.507-1.188-9.5 0.204-13.466 5.719-20.886 9.813-21.281zm-7.719 44.687c0.877 4.515 1.824 9.272 2.781 14.063-12.548 4.464-18.57 21.954-0.781 29.781-10.843-9.231-5.506-20.158 2.312-22.062 1.966 9.816 3.886 19.502 5.438 27.872-2.107 0.74-4.566 1.17-7.438 1.19-7.181 0-21.531-4.57-21.531-21.875 0-14.494 10.047-20.384 19.219-28.969zm6.094 21.469c0.313-0.019 0.652-0.011 0.968 0 13.063 0 17.99 20.745 4.688 27.375-1.655-8.32-3.662-17.86-5.656-27.375z\" \n";echo "      transform=\"matrix(0.7, 0, 0,\n";echo "                        0.7, -7, 8)\"/>\n";echo "                   \n";if($_COOKIE['octaveClef']==1){$z152="visible";}else{$z152="hidden";}echo "<text class=\"eight hidden\" x=\"22\" y=\"124\" style=\"font-size:18 !important; font-family:'Times New Roman'; visibility:".$z152."; font-weight: bold\">8</text>";$c153=explode("|",$y18);$h154=strpos($c153[$y138],"'");if($h154>0){$r155=substr($c153[$y138],0,$h154);$t156=true;}else{$r155=$c153[$y138];$t156=false;}$l157=strpos($r155,"b");if($l37[$y138][0][0]==1 or($f158==1 and $_COOKIE['showCarryBFlat']!=2 and($l157>0 or $l157===0)and $l37[$y138][0][0]!=2)){if($f158==1 and $l37[$y138][0][0]!=1 and $_COOKIE['showCarriedBFlatBrackets']!=2){echo "<text x='41.5' y='65' style='font-size:20px; font-family: \"Times New Roman\"'>[&nbsp;&nbsp;]</text>";}echo "<path class=\"b_in_key\" id=\"b_key_".$y138."\"\n";echo "     transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 50, 62)\"\n";echo "     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo " />\n";$f158=1;}elseif($l37[$y138][0][0]==2){echo "<path class=\"h_in_key\" id=\"h_key_".$y138."\"\n";echo "     transform=\"matrix(3, 0,  0,\n";echo "                        3, 50, 32)\"\n";echo "     d='m 3.0741498,14.12384 0,-7.3833424 -2.10403349,0.6552034 0,-2.6711843 -0.3402905,0 0,7.3960313 2.10441799,-0.655203 0,2.658495 z M 0.97011631,8.6053665 2.7342438,7.9501631 l 0,2.3182049 -1.76412749,0.642515 z'";echo " />\n";$f158=0;}elseif($t156==true){$f158=0;}elseif($_COOKIE['showCarryBFlat']==2){$f158=0;}if($_COOKIE['melodicStructure']==1 and $f13!="searchTool"){$z152="visible";}else{$z152="hidden";}if($s16>30){$y159=25;}else{$y159=$s16*0.8;}echo "<text class=\"melodicStructureText\" x=\"0\" y=\"20\" style=\"font-family:".$z15."; font-size: ".$y159."pt; visibility:".$z152.";\">".$f132[$y138]."</text>";if($_COOKIE['lineNumber']==1 and $f13!="searchTool"){$z152="visible";}else{$z152="hidden";}echo"<text x=\"45\" y=\"$r73\" style=\"font-family:".$z15."; font-size: ".$s16."; visibility:".$z152.";\" class=\"line_number\">".$v139.".</text>";echo "  </g></svg>\n";echo "</div>";if($y138>0){$v160=$v160+1;}for($h125=0;$h125<$y147;$h125++){$x161[$h125]=strlen($d146[$h125]);$w162[$h125]=34+20*$x161[$h125];$u163=34+20*$d99[$h125]+$w102[$h125];$l144=$l144+$u163;echo "  <div style=\"width:";echo $u163;echo "px; display:inline-block;";echo "margin-left:-5px\"  overflow=\"visible\">\n";echo "    <svg height=\"".$j148."px\" width=\"100%\" overflow=\"visible\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";echo "  \n";echo "  <line x1=\"0\" y1=\"31.2\" x2=\"100%\" y2=\"31.2\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"45.5\" x2=\"100%\" y2=\"45.5\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"59.8\" x2=\"100%\" y2=\"59.8\" style=\"stroke:black;stroke-width:1\" />\n";echo "  \n";echo "  <line x1=\"0\" y1=\"74.1\" x2=\"100%\" y2=\"74.1\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"88.4\" x2=\"100%\" y2=\"88.4\" style=\"stroke:black;stroke-width:1\" />";echo "\t<polygon class=\"hiddenPolygon\" id=\"+c\" points=\"0,0 0,7 1500,7 1500,0\" ondblclick=\"createNote('+h')\"/>\n\t\t\t  <polygon class=\"hiddenPolygon\" id=\"+h\" points=\"0,7 0,14 1500,14 1500,7\" ondblclick=\"createNote('+h')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"+a\" points=\"0,14 0,21 1500,21 1500,14\" ondblclick=\"createNote('+a')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"g\" points=\"0,21 0,28 1500,28 1500,21\" ondblclick=\"createNote('g')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"f\" points=\"0,28 0,36 1500,36 1500,28\" ondblclick=\"createNote('f')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"e\" points=\"0,35 0,42 1500,42 1500,35\" ondblclick=\"createNote('e')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"d\" points=\"0,42 0,49 1500,49 1500,42\" ondblclick=\"createNote('d')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"c\" points=\"0,49 0,56 1500,56 1500,49\" ondblclick=\"createNote('c')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"h\" points=\"0,56 0,63 1500,63 1500,56\" ondblclick=\"createNote('h')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"a\" points=\"0,63 0,70 1500,70 1500,63\" ondblclick=\"createNote('a')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"G\" points=\"0,70 0,77 1500,77 1500,70\" ondblclick=\"createNote('G')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"F\" points=\"0,77 0,84 1500,84 1500,77\" ondblclick=\"createNote('F')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"E\" points=\"0,84 0,91 1500,91 1500,84\" ondblclick=\"createNote('E')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"D\" points=\"0,91 0,98 1500,98 1500,91\" ondblclick=\"createNote('D')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"C\" points=\"0,98 0,105 1500,105 1500,98\" ondblclick=\"createNote('C')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"H\" points=\"0,105 0,112 1500,112 1500,105\" ondblclick=\"createNote('H')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"A\" points=\"0,112 0,119 1500,119 1500,112\" ondblclick=\"createNote('A')\"/>\n\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"*G\" points=\"0,119 0,126 1500,126 1500,119\" ondblclick=\"createNote('*G')\"/>";if($h125>0){$v160=$v160+1;}for($c126=0;$c126<$x161[$h125];$c126++){$t164++;$v160=$v160+1;if($v42[$y138][$h125][$c126]==1){$v160=$v160+1;}if($g47[$y138][$h125][$c126]==1){$v160=$v160+1;}if($i52[$y138][$h125][$c126]==1){$v160=$v160+1;}if($q57[$y138][$h125][$c126]==1){$v160=$v160+1;}if(substr($z61[$y138][$h125][$c126+1],-1)=="/"){$v160=$v160+1;}if($p32[$y138][$h125][$c126]==1){$v160=$v160+1;}if($d146[$h125][$c126]=="u"||$d146[$h125][$c126]=="p"||$d146[$h125][$c126]=="q"||$d146[$h125][$c126]=="J"){$v160=$v160+1;}$z165=str_split($d146[$h125],1);if($l37[$y138][$h125][$c126]==1&&$h125!=0){echo "<path class=\"b_in_key\" id=\"b_key_".$y138."\"\n";echo "     transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 2, 62)\"\n";echo "     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo "     inkscape:connector-curvature=\"0\"\n";echo "     style=\"fill:currentColor;\"></path>";$f158=1;}elseif($l37[$y138][$h125][$c126]==2 and $h125>0){echo "<g class='natural' transform=\"matrix(3, 0,   0,\n";echo "                      3, 0,32)\">\n";echo "     <path\n";echo "    d=\"m 3.0741498,14.12384 0,-7.3833424 -2.10403349,0.6552034 0,-2.6711843 -0.3402905,0 0,7.3960313 2.10441799,-0.655203 0,2.658495 z M 0.97011631,8.6053665 2.7342438,7.9501631 l 0,2.3182049 -1.76412749,0.642515 z\" style=\"font-size:12.59959221px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#000000;font-family:Opus Text\"/>\n";echo "  </g>";$f158=0;}$x166=$g47[$y138][$h125][$c126];if($x166==1){echo "<g transform=\"matrix(3, 0,   0,\n";echo "                      3, 0,";if($z165[$c126]==="J"){echo "95";}elseif($z165[$c126]==="A"){echo "88";}elseif($z165[$c126]==="H"){echo "81";}elseif($z165[$c126]==="C"){echo "74";}elseif($z165[$c126]==="D"){echo "67";}elseif($z165[$c126]==="E"){echo "60";}elseif($z165[$c126]==="F"){echo "53";}elseif($z165[$c126]==="G"){echo "46";}elseif($z165[$c126]==="a"){echo "39";}elseif($z165[$c126]==="h"||$z165[$c126]==="b"){echo "32";}elseif($z165[$c126]==="c"){echo "25";}elseif($z165[$c126]==="d"){echo "17";}elseif($z165[$c126]==="e"){echo "10";}elseif($z165[$c126]==="f"){echo "3";}elseif($z165[$c126]==="g"){echo "-4";}elseif($z165[$c126]==="u"){echo "-11";}elseif($z165[$c126]==="p"){echo "-18";}elseif($z165[$c126]==="q"){echo "-18";}elseif($z165[$c126]==="r"){echo "-25";}echo ")\">\n";echo "    <path \n";echo "    d=\"m 3.0741498,14.12384 0,-7.3833424 -2.10403349,0.6552034 0,-2.6711843 -0.3402905,0 0,7.3960313 2.10441799,-0.655203 0,2.658495 z M 0.97011631,8.6053665 2.7342438,7.9501631 l 0,2.3182049 -1.76412749,0.642515 z\" style=\"font-size:12.59959221px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#000000;font-family:Opus Text\"/>\n";echo "  </g>";}$k167=$i52[$y138][$h125][$c126];if($k167==1){echo "<g transform=\"matrix(1.5, 0,   0,\n";echo "                      1.5, -122,";if($z165[$c126]==="J"){echo "-544";}elseif($z165[$c126]==="A"){echo "-551";}elseif($z165[$c126]==="H"){echo "-558";}elseif($z165[$c126]==="C"){echo "-565";}elseif($z165[$c126]==="D"){echo "-572";}elseif($z165[$c126]==="E"){echo "-579";}elseif($z165[$c126]==="F"){echo "-586";}elseif($z165[$c126]==="G"){echo "-593";}elseif($z165[$c126]==="a"){echo "-600";}elseif($z165[$c126]==="h"){echo "-607";}elseif($z165[$c126]==="c"){echo "-616";}elseif($z165[$c126]==="d"){echo "-621";}elseif($z165[$c126]==="e"){echo "-628";}elseif($z165[$c126]==="f"){echo "-635";}elseif($z165[$c126]==="g"){echo "-642";}elseif($z165[$c126]==="u"){echo "-649";}elseif($z165[$c126]==="p"){echo "-656";}elseif($z165[$c126]==="q"){echo "-656";}elseif($z165[$c126]==="r"){echo "-664";}echo ")\">\n";echo "     <path\n";echo "         d=\"M 86.102000,447.45700 L 86.102000,442.75300 L 88.102000,442.20100 L 88.102000,446.88100 L 86.102000,447.45700 z M 90.040000,446.31900 L 88.665000,446.71300 L 88.665000,442.03300 L 90.040000,441.64900 L 90.040000,439.70500 L 88.665000,440.08900 L 88.665000,435.30723 L 88.102000,435.30723 L 88.102000,440.23400 L 86.102000,440.80900 L 86.102000,436.15923 L 85.571000,436.15923 L 85.571000,440.98600 L 84.196000,441.37100 L 84.196000,443.31900 L 85.571000,442.93500 L 85.571000,447.60600 L 84.196000,447.98900 L 84.196000,449.92900 L 85.571000,449.54500 L 85.571000,454.29977 L 86.102000,454.29977 L 86.102000,449.37500 L 88.102000,448.82500 L 88.102000,453.45077 L 88.665000,453.45077 L 88.665000,448.65100 L 90.040000,448.26600 L 90.040000,446.31900 z \" style=\"fill:#000000\"/>\n";echo "  </g>";}if($z165[$c126]!=="?"and $z165[$c126]!=="-"){$o168=$v42[$y138][$h125][$c126];if($o168==1){echo $i169=note_number($z165[$c126])-note_number($z165[$c126-1]);}echo "<g\n";echo" onclick=\"selectNote($t164)\"";echo " id=\"note".$t164."\" ";echo "     transform=\"matrix(";if($o168==0){echo "-1.19";echo ", 0,   0,\n";echo "                       -1.19, ";echo 390+20*$c126.",";}elseif($o168==1 and $p14!=1){echo "-0.7";echo ", 0,   0,\n";echo "                       -0.7, ";echo 240+20*$c126.",";}elseif($o168==1 and $p14==1 and $i169<=0){echo "1";echo ", 0,   0,\n";echo "                       1, ";echo-300+20*$c126.",";}elseif($o168==1 and $p14==1 and $i169>0){echo "1";echo ", 0,   0.11,\n";echo "                       -1, ";echo-335.4+20*$c126.",";}if($o168==0){if($z165[$c126]==="J"){echo "485";}elseif($z165[$c126]==="A"){echo "478";}elseif($z165[$c126]==="H"||$z165[$c126]==="B"){echo "471";}elseif($z165[$c126]==="C"){echo "464";}elseif($z165[$c126]==="D"){echo "457";}elseif($z165[$c126]==="E"){echo "450";}elseif($z165[$c126]==="F"){echo "443.3";}elseif($z165[$c126]==="G"){echo "436";}elseif($z165[$c126]==="a"){echo "429";}elseif($z165[$c126]==="h"||$z165[$c126]==="b"){echo "422";}elseif($z165[$c126]==="c"){echo "414.5";}elseif($z165[$c126]==="d"){echo "407";}elseif($z165[$c126]==="e"){echo "400.3";}elseif($z165[$c126]==="f"){echo "393";}elseif($z165[$c126]==="g"){echo "386";}elseif($z165[$c126]==="u"){echo "379";}elseif($z165[$c126]==="p"){echo "372";}elseif($z165[$c126]==="q"){echo "372";}elseif($z165[$c126]==="r"){echo "365";}elseif($z165[$c126]=="9"){}}elseif($o168==1 and $p14!=1){if($z165[$c126]==="J"){echo "320.3";}elseif($z165[$c126]==="A"){echo "327.3";}elseif($z165[$c126]==="H"||$z165[$c126]==="B"){echo "320.3";}elseif($z165[$c126]==="C"){echo "315.3";}elseif($z165[$c126]==="D"){echo "306";}elseif($z165[$c126]==="E"){echo "301.3";}elseif($z165[$c126]==="F"){echo "294.3";}elseif($z165[$c126]==="G"){echo "287";}elseif($z165[$c126]==="a"){echo "280";}elseif($z165[$c126]==="h"||$z165[$c126]==="b"){echo "273";}elseif($z165[$c126]==="c"){echo "265.5";}elseif($z165[$c126]==="d"){echo "258";}elseif($z165[$c126]==="e"){echo "251";}elseif($z165[$c126]==="f"){echo "244";}elseif($z165[$c126]==="g"){echo "239";}elseif($z165[$c126]==="u"){echo "230";}elseif($z165[$c126]==="p"){echo "221";}elseif($z165[$c126]==="q"){echo "221";}elseif($z165[$c126]==="r"){echo "212";}}elseif($o168==1 and $p14==1 and $i169<=0){if($z165[$c126-1]==="J"){echo "-183";}elseif($z165[$c126-1]==="A"){echo "-190";}elseif($z165[$c126-1]==="H"||$z165[$c126-1]==="B"){echo "-197";}elseif($z165[$c126-1]==="C"){echo "-203.1";}elseif($z165[$c126-1]==="D"){echo "-210.1";}elseif($z165[$c126-1]==="E"){echo "-217";}elseif($z165[$c126-1]==="F"){echo "-225";}elseif($z165[$c126-1]==="G"){echo "-231";}elseif($z165[$c126-1]==="a"){echo "-239";}elseif($z165[$c126-1]==="h"||$z165[$c126-1]==="b"){echo "-245";}elseif($z165[$c126-1]==="c"){echo "-253";}elseif($z165[$c126-1]==="d"){echo "-260";}elseif($z165[$c126-1]==="e"){echo "-267";}elseif($z165[$c126-1]==="f"){echo "-274";}elseif($z165[$c126-1]==="g"){echo "-281";}elseif($z165[$c126-1]==="u"){echo "-288";}elseif($z165[$c126-1]==="p"){echo "-295";}elseif($z165[$c126-1]==="q"){echo "-295";}elseif($z165[$c126-1]==="q"){echo "-302";}}elseif($o168==1 and $p14==1 and $i169>0){if($z165[$c126-1]==="J"){echo "427";}elseif($z165[$c126-1]==="A"){echo "421";}elseif($z165[$c126-1]==="H"||$z165[$c126-1]==="B"){echo "414";}elseif($z165[$c126-1]==="C"){echo "407";}elseif($z165[$c126-1]==="D"){echo "400";}elseif($z165[$c126-1]==="E"){echo "393";}elseif($z165[$c126-1]==="F"){echo "386";}elseif($z165[$c126-1]==="G"){echo "379";}elseif($z165[$c126-1]==="a"){echo "372";}elseif($z165[$c126-1]==="h"||$z165[$c126-1]==="b"){echo "365";}elseif($z165[$c126-1]==="c"){echo "358";}elseif($z165[$c126-1]==="d"){echo "350";}elseif($z165[$c126-1]==="e"){echo "344";}elseif($z165[$c126-1]==="f"){echo "336";}elseif($z165[$c126-1]==="g"){echo "330";}elseif($z165[$c126-1]==="u"){echo "322";}elseif($z165[$c126-1]==="p"){echo "316";}elseif($z165[$c126-1]==="q"){echo "316";}elseif($z165[$c126-1]==="r"){echo "310";}}if($o168==1 and $p14==1){echo ")\">\n";echo "<path\n\t\t\t\t       style=\"opacity:1;fill:#000000;stroke:#000000;stroke-width:8.54173;stroke-linejoin:round;stroke-dasharray:0, 93.95900000000000318;stroke-dashoffset:69.188;stroke-opacity:0.972125\"\n\t\t\t\t       d=\"m 308.29783,299.6101 c 0.18137,0.0423 0.3719,0.0559 0.54411,0.12679 1.59879,0.65812 3.46244,2.09589 4.48652,3.45394 0.29152,0.38659 -0.76106,0.98314 -0.49289,1.38629 1.73689,1.92759 2.3584,4.66496 2.26644,7.09011 0.052,0.52015 -0.0893,0.66851 -0.32888,2.28543 -0.35959,1.27081 -0.92055,2.47054 -1.72756,3.58344 -0.0795,0.10961 0.57314,0.69021 0.98672,1.35852 0.0335,0.0542 1.15761,-1.60137 1.9208,-3.28534 1.88869,-3.69063 1.59572,-8.53954 -0.26748,-11.72723 -0.7651,-1.33612 -1.60421,-2.51875 -2.63176,-3.42979 -0.18863,-0.17443 -0.72044,-0.54318 -0.88781,-0.6661 -0.20446,-0.15015 -0.65149,-0.46912 -0.87765,-0.59186 -0.10133,-0.055 -0.19094,-0.0927 -0.30793,-0.14591 -0.0859,-0.0391 -0.19695,-0.0906 -0.28555,-0.14328 -0.0966,-0.0575 -0.4632,-0.17944 -0.77477,-0.26228 -0.19636,-0.0522 -0.37406,-0.0729 -0.43844,-0.10243 l -1.18367,1.0697 z\"/>";}else{echo ")\"\n";echo "     >\n";echo "    <path\n";echo "       d=\"M 303.13715,299.65106 C 299.74131,301.47103 297.93187,304.76561 299.04493,307.24402 C 300.23219,309.88766 304.31194,310.63374 308.15151,308.90939 C 311.99107,307.18503 314.14367,303.63999 312.95641,300.99636 C 311.76914,298.35272 307.6894,297.60664 303.84983,299.33099 C 303.60986,299.43876 303.36355,299.52973 303.13715,299.65106 z \"\n";echo "       style=\"opacity:1;fill-opacity:1;\"\n";echo "       class=\"single_note\" />\n";}}else{echo "<g class='hypen'>";}if($o168==0 or($o168==1 and $p14!=1)){if($z165[$c126]==="C"){echo "<path\n";echo "       d=\"M 317,304 295,304\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}if($z165[$c126]==="H"||$z165[$c126]==="B"||$z165[$c126]==="J"){echo "<path\n";echo "       d=\"M 317,309.9 295,309.9\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}if($z165[$c126]==="J"){echo "<path\n";echo "       d=\"M 317,315.8 295,315.8\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}if($z165[$c126]==="p"||$z165[$c126]==="q"||$z165[$c126]==="r"){echo "<path\n";echo "       d=\"M 317,298 295,298\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}if($z165[$c126]==="A"){echo "<path\n";echo "     d=\"M 317,309.9 295,309.9\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";echo "<path\n";echo "     d=\"M 317,304 295,304\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}if($z165[$c126]==="u"||$z165[$c126]==="r"){echo "<path\n";echo "     d=\"M 317,304 295,304\"\n";echo "     style=\"fill:none;stroke:#000000;stroke-width:1.5px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\" />";}}echo "  </g>";$t170=$o78[$y138][$h125][$c126];if($o78[$y138][$h125][0]==1){$k171=1;}else{$k171=0;}if($m83[$y138][$h125][($x161[$h125]-1)]==1){$i172=1;}else{$i172=0;}if($k171==1 and $i172==1){$f173=1;}else{$f173=0;}if(strpos($m83[$y138][$h125],"1")==true){$m174=1;}else{$m174=0;}if(strpos($o78[$y138][$h125],"1")==true){$b175=1;}else{$b175=0;}if($t170==1){echo "<path";echo " transform=\"matrix(0.3, 0, 0, 0.5, -4, 35)\"";echo"id=\"$x161[$h125]\"";echo ")\" name=\"bracket_left\" d=\"m31.8455 93.594467c-0.000029 1.181626-0.134303 2.014144-0.402823 2.497559-0.268577 0.483381-0.653497 0.72508-1.15476 0.725097h-13.749701c-0.429692-0.000017-0.841466-0.06268-1.235325-0.187988-0.393884-0.125342-0.751948-0.331234-1.074195-0.617676-0.32227-0.286474-0.581867-0.671402-0.778792-1.154785-0.196946-0.483413-0.295414-1.083185-0.295404-1.799316v-84.8095705c-0.00001-0.6802665 0.098458-1.2621344 0.295404-1.7456055 0.196925-0.4833248 0.456522-0.8772046 0.778792-1.1816406 0.322247-0.3042874 0.680311-0.5191309 1.074195-0.6445313 0.393859-0.1252504 0.805633-0.1879131 1.235325-0.1879882h13.749701c0.214811 0.0000751 0.420699 0.053786 0.617662 0.1611328 0.196908 0.1074967 0.366988 0.3044366 0.510243 0.5908203 0.143197 0.2865324 0.250617 0.6356532 0.322258 1.0473633 0.07159 0.4118567 0.107391 0.9221101 0.10742 1.5307617-0.000029 1.145904-0.134303 1.9694709-0.402823 2.470703-0.268577 0.501371-0.653497 0.752022-1.15476 0.751953h-8.754693v79.277344h8.754693c0.214811-0.000011 0.420699 0.0537 0.617662 0.161133 0.196908 0.107411 0.366988 0.295399 0.510243 0.563965 0.143197 0.268543 0.250617 0.608712 0.322258 1.020507 0.07159 0.411771 0.107391 0.922025 0.10742 1.530762z\"/>";}$c176=$m83[$y138][$h125][$c126];if($c176==1){echo "<path";if(($f173==1 and $x161[$h125]>1)or $b175==0 or!preg_match('/[a-zA-Z]/',$z165[$c126])){echo " transform=\"matrix(0.3, 0, 0, 0.5,";echo $u163-12;echo ", 35)\"";}else{echo " transform=\"matrix(0.2, 0, 0, 0.21,";echo 30*$c126;echo ", ";brackets_height($z165[$c126]);}echo ")\" name=\"bracket_right\" d=\"m31.845406 93.057358c-0.000023 0.716131-0.09849 1.315903-0.29541 1.799316-0.196963 0.483383-0.456566 0.868311-0.778808 1.154785-0.322288 0.286442-0.689313 0.492334-1.101075 0.617676-0.411804 0.125309-0.83254 0.187971-1.262207 0.187988h-13.696289c-0.501308-0.000017-0.886236-0.241716-1.154785-0.725097-0.26856-0.483415-0.402837-1.315933-0.402832-2.497559-0.000005-0.608737 0.02685-1.118991 0.08057-1.530762 0.05371-0.411795 0.152175-0.751964 0.29541-1.020507 0.143223-0.268566 0.313308-0.456554 0.510254-0.563965 0.196934-0.107433 0.420729-0.161144 0.671386-0.161133h8.754883v-79.277344h-8.754883c-0.501308 0.000069-0.886236-0.250582-1.154785-0.751953-0.26856-0.5012321-0.402837-1.324799-0.402832-2.470703-0.000005-0.6086516 0.02685-1.118905 0.08057-1.5307617 0.05371-0.4117101 0.152175-0.7608309 0.29541-1.0473633 0.143223-0.2863837 0.313308-0.4833236 0.510254-0.5908203 0.196934-0.1073468 0.420729-0.1610577 0.671386-0.1611328h13.696289c0.429667 0.0000751 0.850403 0.062738 1.262207 0.1879882 0.411762 0.1254004 0.778787 0.3402439 1.101075 0.6445313 0.322242 0.304436 0.581845 0.6983158 0.778808 1.1816406 0.196917 0.4834711 0.295387 1.065339 0.29541 1.7456055z\"/>";}$t177=$q57[$y138][$h125][$c126];if($t177==1){if($z165[$c126]==="H"or $z165[$c126]==="h"){echo "<path transform=\"matrix(0.025, 0,  0,\n";echo "                       -0.025,";echo 3+20*($c126+1).",";}else{echo "<path transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 4,";}if($z165[$c126]==="J"){echo "124";}elseif($z165[$c126]==="A"){echo "117";}elseif($z165[$c126]==="H"or $z165[$c126]==="h"){echo "22";}elseif($z165[$c126]==="B"){echo "110";}elseif($z165[$c126]==="C"){echo "103";}elseif($z165[$c126]==="D"){echo "96";}elseif($z165[$c126]==="E"){echo "89";}elseif($z165[$c126]==="F"){echo "82";}elseif($z165[$c126]==="G"){echo "75";}elseif($z165[$c126]==="a"){echo "68";}elseif($z165[$c126]==="b"){echo "61";}elseif($z165[$c126]==="c"){echo "55";}elseif($z165[$c126]==="d"){echo "47";}elseif($z165[$c126]==="e"){echo "40";}elseif($z165[$c126]==="f"){echo "33";}elseif($z165[$c126]==="g"){echo "26";}elseif($z165[$c126]==="u"){echo "19";}elseif($z165[$c126]==="p"){echo "12";}elseif($z165[$c126]==="q"){echo "12";}elseif($z165[$c126]==="r"){echo "5";}echo ")\"     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo "     inkscape:connector-curvature=\"0\"\n";echo "     style=\"fill:currentColor\" />\n";}if($z165[$c126]==="b"and $f158!==1){echo "<path\n";echo "     transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 4, 62)\"\n";echo "     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo "     inkscape:connector-curvature=\"0\"\n";echo "     style=\"fill:currentColor\" />\n";}if($z165[$c126]==="B"and $f158!==1){echo "<path\n";echo "     transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 4, 110)\"\n";echo "     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo "     inkscape:connector-curvature=\"0\"\n";echo "     style=\"fill:currentColor\" />\n";}if($z165[$c126]==="p"and $f158!==1){echo "<path\n";echo "     transform=\"matrix(0.04, 0,  0,\n";echo "                       -0.04, 4, 12)\"\n";echo "     d=\"m 27,41 -1,-66 v -11 c 0,-22 1,-44 4,-66 45,38 93,80 93,139 0,33 -14,67 -43,67 C 49,104 28,74 27,41 z m -42,-179 -12,595 c 8,5 18,8 27,8 9,0 19,-3 27,-8 L 20,112 c 25,21 58,34 91,34 52,0 89,-48 89,-102 0,-80 -86,-117 -147,-169 -15,-13 -24,-38 -45,-38 -13,0 -23,11 -23,25 z\"\n";echo "     inkscape:connector-curvature=\"0\"\n";echo "     style=\"fill:currentColor\" />\n";}$l178=substr($z61[$y138][$h125][$c126+1],-1);if($l178=="/"){echo "  <line x1=\"";echo $u163;echo "\" y1=\"88.92\" x2=\"";echo $u163;echo "\" y2=\"30.68\" style=\"stroke:black;stroke-width:1\t\" />";}}if($x161[$h125]<2){}elseif($v42[$y138][$h125][$x161[$h125]-1]==1 and $p14==1 and $x161[$h125]==2){}elseif($x161[$h125]>1){$o179=explode("-",$d146[$h125]);$s180=count($o179);$g181=0;for($p182=0;$p182<$s180;$p182++){$u183=$o179[$p182];$r184=strlen($u183);if($r184>1){if($v42[$y138][$h125][$c126-1]==1 and $p14==1){$l185=$u183[$r184-2];}else{$l185=$u183[$r184-1];};$k186=$u183[0];if($k186==="J"){$r187=102;$z188=0;}elseif($k186==="A"){$r187=102;$z188=0;}elseif($k186==="H"){$r187=95;$z188=1;}elseif($k186==="B"){$r187=95;$z188=1;}elseif($k186==="C"){$r187=87;$z188=2;}elseif($k186==="D"){$r187=80;$z188=3;}elseif($k186==="E"){$r187=73;$z188=4;}elseif($k186==="F"){$r187=66.3;$z188=5;}elseif($k186==="G"){$r187=59;$z188=6;}elseif($k186==="a"){$r187=52;$z188=7;}elseif($k186==="h"){$r187=45;$z188=8;}elseif($k186==="b"){$r187=45;$z188=8;}elseif($k186==="c"){$r187=37.5;$z188=9;}elseif($k186==="d"){$r187=25;$z188=10;}elseif($k186==="e"){$r187=23.3;$z188=11;}elseif($k186==="f"){$r187=16;$z188=12;}elseif($k186==="g"){$r187=9;$z188=13;}elseif($k186==="u"){$r187=5;$z188=14;}elseif($k186==="p"){$r187=2;$z188=15;}elseif($k186==="q"){$r187=2;$z188=15;}elseif($k186==="r"){$r187=-4;$z188=16;}$c189=$x161[$h125];if($v42[$y138][$h125][$c189-1]==1 and $p14==1){$r184=$c189-1;}if($l185==="J"){$n190=0;}elseif($l185==="A"){$n190=0;}elseif($l185==="B"){$n190=1;}elseif($l185==="H"){$n190=1;}elseif($l185==="C"){$n190=2;}elseif($l185==="D"){$n190=3;}elseif($l185==="E"){$n190=4;}elseif($l185==="F"){$n190=5;}elseif($l185==="G"){$n190=6;}elseif($l185==="a"){$n190=7;}elseif($l185==="b"){$n190=8;}elseif($l185==="h"){$n190=8;}elseif($l185==="c"){$n190=9;}elseif($l185==="d"){$n190=10;}elseif($l185==="e"){$n190=11;}elseif($l185==="f"){$n190=12;}elseif($l185==="g"){$n190=13;}elseif($l185==="u"){$n190=14;}elseif($l185==="p"){$n190=15;}elseif($l185==="q"){$n190=15;}elseif($l185==="r"){$n190=16;}for($p191=0;$p191<$r184;$p191++){$r192=str_split($u183,1);$r192=str_replace("J","-1",$r192);$r192=str_replace("A","0",$r192);$r192=str_replace("B","1",$r192);$r192=str_replace("H","1",$r192);$r192=str_replace("C","2",$r192);$r192=str_replace("D","3",$r192);$r192=str_replace("E","4",$r192);$r192=str_replace("F","5",$r192);$r192=str_replace("G","6",$r192);$r192=str_replace("a","7",$r192);$r192=str_replace("b","8",$r192);$r192=str_replace("h","8",$r192);$r192=str_replace("c","9",$r192);$r192=str_replace("d","10",$r192);$r192=str_replace("e","11",$r192);$r192=str_replace("f","12",$r192);$r192=str_replace("g","13",$r192);$r192=str_replace("u","14",$r192);$r192=str_replace("p","15",$r192);$r192=str_replace("q","15",$r192);$r192=str_replace("r","16",$r192);$i193=max($r192);$u194=array_search($i193,$r192);$b195=$u194/$x161[$h125];}$l196=$z188-$n190;$n197=($r184-1)*20;$g198=$l196*7;if($l196>0){$h199=$i193-$z188;}else{$h199=$i193-$n190;}if($l196<0){$c200=$n197/2;$w201=-14+($l196*7)-($h199*14);$y202=-18-($h199*7)-($h199*7);}else{$c200=$n197/2;$w201=-18-($h199*7)-($h199*7);$y202=-14-($l196*7)-($h199*14);}$f203=28+($g181)*20;echo "<path\n\t\t\t\td=\"m ".$f203." ".$r187." q ".$c200." ".$w201." ".$n197." ".$g198." q ".(-$c200)." ".$y202." ".(-$n197)." ".(-$g198)."\" stroke=\"black\" stroke-width=\"0.5\" fill=\"black\" />";}$g181=$g181+$r184+1;}}$i204=explode(' ',$m69[$y138]);$e205=$r73;for($z206=0;$z206<count($f72);$z206++){$d207=mb_strlen($i204[$h125],'utf-8');echo $d207=mb_strlen($f72[$k137][$y138-$n142][$h125],'utf-8');if($d207>5 and $x161[$h125]==1){$k208=18-$d207/3;}else{$k208=18;};echo "<text style=\"font-family:".$z15."; font-size:".$s16.";\" x=\"".$k208."\" y=\"".$e205."\">";$f209="";if($k12==2){$f209=$f209." ".str_replace("_"," ",$f72[$k137][$y138-$n142][$h125]);}else if($k12==1 and $z206>0){$n142=$b63-count($f72[$z206]);$f209=$f209." ".str_replace("_"," ",$f72[$z206][$y138-$n142][$h125]);}else{$f209=$f209." ".str_replace("_"," ",$f72[$z206][$y138][$h125]);}echo $f209;echo "</text>\n";$e205=$e205+$l150;if($k12==0)$z206=count($f72);}if($_COOKIE['showMsLineBreaks']!=2 and($p32[$y138][$h125+1][0]=="'"or $p32[$y138][$h125+1][0]==1)){echo "<text style=\"font-family:".$z15."; font-size:15px;\" x=\"".($u163-10)."\" y=\"30\" fill='gray'>&#9662;</text>\n";}echo "</g></svg>\n";echo "</div>";if($p32[$y138][$h125+1]==1 or $p32[$y138][$h125+1]=="'"){$f158=0;}}$q210=$e88-$h125;for($k211=0;$k211<$q210;$k211++){echo "  <div style=\"width:";echo 34+20*($d99[$h125+$k211])+$w102[$h125+$k211];echo "px; display:inline-block;";echo "margin-left:-5px\">\n";echo "    <svg height=\"".$j148."px\" width=\"100%\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";echo "  \n";echo "  <line x1=\"0\" y1=\"31.2\" x2=\"100%\" y2=\"31.2\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"45.5\" x2=\"100%\" y2=\"45.5\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"59.8\" x2=\"100%\" y2=\"59.8\" style=\"stroke:black;stroke-width:1\" />\n";echo "  \n";echo "  <line x1=\"0\" y1=\"74.1\" x2=\"100%\" y2=\"74.1\" style=\"stroke:black;stroke-width:1\" />\n";echo "  <line x1=\"0\" y1=\"88.4\" x2=\"100%\" y2=\"88.4\" style=\"stroke:black;stroke-width:1\" />";echo "\t<polygon class=\"hiddenPolygon\" id=\"+h\" points=\"0,0 0,7 1500,7 1500,0\" ondblclick=\"createNote('+h')\"/>\n\t\t\t   \t<polygon class=\"hiddenPolygon\" id=\"+h\" points=\"0,7 0,14 1500,14 1500,7\" ondblclick=\"createNote('+h')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"+a\" points=\"0,14 0,21 1500,21 1500,14\" ondblclick=\"createNote('+a')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"g\" points=\"0,21 0,28 1500,28 1500,21\" ondblclick=\"createNote('g')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"f\" points=\"0,28 0,36 1500,36 1500,28\" ondblclick=\"createNote('f')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"e\" points=\"0,35 0,42 1500,42 1500,35\" ondblclick=\"createNote('e')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"d\" points=\"0,42 0,49 1500,49 1500,42\" ondblclick=\"createNote('d')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"c\" points=\"0,49 0,56 1500,56 1500,49\" ondblclick=\"createNote('c')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"h\" points=\"0,56 0,63 1500,63 1500,56\" ondblclick=\"createNote('h')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"a\" points=\"0,63 0,70 1500,70 1500,63\" ondblclick=\"createNote('a')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"G\" points=\"0,70 0,77 1500,77 1500,70\" ondblclick=\"createNote('G')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"F\" points=\"0,77 0,84 1500,84 1500,77\" ondblclick=\"createNote('F')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"E\" points=\"0,84 0,91 1500,91 1500,84\" ondblclick=\"createNote('E')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"D\" points=\"0,91 0,98 1500,98 1500,91\" ondblclick=\"createNote('D')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"C\" points=\"0,98 0,105 1500,105 1500,98\" ondblclick=\"createNote('C')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"H\" points=\"0,105 0,112 1500,112 1500,105\" ondblclick=\"createNote('H')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"A\" points=\"0,112 0,119 1500,119 1500,112\" ondblclick=\"createNote('A')\"/>\n\t\t\t\t\t<polygon class=\"hiddenPolygon\" id=\"*G\" points=\"0,119 0,126 1500,126 1500,119\" ondblclick=\"createNote('*G')\"/>";echo "</g></svg>\n";echo "</div>";}echo "  <div style=\"width:1px; display:inline-block;";echo "margin-left:-5px\">\n";echo "    <svg height=\"".$j148."px\" width=\"100%\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";if($f13=="viewer.html"){$m212=1.4;}else{$m212=0;}echo "  <line x1=\"0\" y1=\"88.92\" x2=\"0\" y2=\"30.68\" style=\"stroke:black;stroke-width:1\t\" />";echo $_SERVER['HTTP_USER_AGENT'];echo "getBr";$s213=get_browser(null,true);print_r($s213);echo "    </g></svg>\n";echo "  </div>";$g214=substr(end($z61[$y138]),-2);if($g214=="//"){echo "  <div style=\"width:18px; display:inline-block;";echo "margin-left:-20px\" overflow=\"visible\">\n";echo "    <svg height=\"".$j148."px\" width=\"100%\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";echo "  <line x1=\"1\" y1=\"88.92\" x2=\"1\" y2=\"30.68\" style=\"stroke:black;stroke-width:1\t\" />";echo "  <line x1=\"11\" y1=\"88.92\" x2=\"11\" y2=\"30.68\" style=\"stroke:black;stroke-width:6\t\" />";echo "    </g></svg>\n";echo "  </div>";}else{$l178=substr(end($z61[$y138]),-1);if($l178=="/"){echo "  <div style=\"width:2px; display:inline-block;";echo "margin-left:-12px\">\n";echo "    <svg height=\"".$j148."px\" width=\"100%\">\n";echo "<g transform=\"translate(0,".$l149.") rotate(0)\">";echo "  <line x1=\"0\" y1=\"88.92\" x2=\"0\" y2=\"30.68\" style=\"stroke:black;stroke-width:2\t\" />";echo "    </g></svg>\n";echo "  </div>";}}array_push($o135,$l144);}}$u215=max($o135);echo "<input type=\"hidden\" id=\"largest_line\" name=\"largest_line\" value=\"".$u215."\">";echo "<input type=\"hidden\" id=\"melodic_structure_to_store\" value=\"".$g134."\">";function numberToRomanRepresentation($s216){$v217=array('M'=>1000,'CM'=>900,'D'=>500,'CD'=>400,'C'=>100,'XC'=>90,'L'=>50,'XL'=>40,'X'=>10,'IX'=>9,'V'=>5,'IV'=>4,'I'=>1);$q218='';while($s216>0){foreach($v217 as $n219=>$z220){if($s216>=$z220){$s216-=$z220;$q218.=$n219;break;}}}return $q218;}?><br><div style="bottom:10px;margin-top:30px"><br><br><?php echo "<div id=\"annotationsSection\"\n\n\t\t\tstyle='font-family:".$z15."; font-size:".$s16."px;";if($_COOKIE['showAnnotations']!=2 and $g11!=""){echo "display:block;";}else{echo "display:none;";}echo "'>";$g11=str_replace("\n","<br/>",$g11);printhtml_entity_decode($g11)."<br/>";echo "</div>";?></div><style>polygon{fill:transparent;z-index:1}line{stroke:#000!important;z-index:10}</style>
